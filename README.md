# Gut-Brain Axis

This project aims to create a computational model to represent the Gut-Brain Axis (GBA) using the agent-based framework Repast4Py. This implementation seeks to simulate the complex interplay between the gut and brain systems, emphasizing their bidirectional communication and the role of various physiological processes and molecules exchanged within the GBA channels. By leveraging the Repast4Py framework, the project tries to develop a sophisticated simulation environment where agents representing different components of the gut and brain systems interact and influence each other's states and behaviors. Through this computational model, we aim to gain insights into the relationship between the GBA and neurodegenerative diseases, particularly neuroinflammation.

This project outlines the concept of the "Gut-Brain Axis" (GBA), which describes the interconnection between the gut and brain, mediated by various channels facilitating bidirectional communication. Key systems involved include the immune system, the enteric nervous system (ENS)â€“central nervous system (CNS) axis, the cardiovascular system, and the neuroendocrine system, which play pivotal roles in transmitting chemical messages. Molecules exchanged within the GBA channels mainly include metabolites, hormones, and neurotransmitters. Additionally, the microbiota, comprising bacteria, fungi, viruses, and archaea, residing in environments like the human gut, is a crucial component of the GBA.

## Repository and Instructions

All the code produced during this project can be found in the public GitHub repository at [https://github.com/Andrea-Lolli/gut-brain-axis.git](https://github.com/Andrea-Lolli/gut-brain-axis.git). The repository can be easily cloned, and by following the next sets of instructions, the results of our experiments should be easily replicable by anyone who has installed Repast4Py on their system.

The code in the repository is divided into various Python files. Some files define the structure of the Gut and Network systems (like `small_model.yaml` or `big_net.txt`). These are demo files, but similar gut and network structures can easily be generated by `netCreator.py`.

### Running the Simulation

The main Python script for the simulation is `GBA.py`. This script includes all the Repast4Py classes for agents, environments, models, and more. To run the simulation, use a command like:
```bash
mpirun -n 4 python3 GBA.py big_model.yaml
```
In this command, you can swap the model file (`big_model.yaml`) containing general information about the simulation. The `-n 4` flag is a Repast4Py flag that determines the number of ranks for the simulation.

### Running the GUI

The output file of the simulation is in a format that is difficult to read and analyze. Although it is possible to paste the content into a spreadsheet for data analysis, we recommend using the built-in GUI of the simulation to view the results. The GUI runs using the Tkinter library, separately from the simulation, so it does not interfere with the performance of the simulation itself. To run the GUI, execute the `gui.py` file in the repository, followed by the `-i` flag and the name of the output file you want to view:
```bash
python gui.py -i output_file.txt
```

### GUI Argparser Parameters

Several parameters can be added to the Argparser to modify the behavior of the GUI:
```python
parser = argparse.ArgumentParser(description='Run the Gut-Brain Axis simulation.')
parser.add_argument('-t', '--title', type=str, default='Gut-Brain Axis simulation', help='Title of the simulation window')
parser.add_argument('--x_size', type=int, default=8, help='X size of the grid')
parser.add_argument('--y_size', type=int, default=8, help='Y size of the grid')
parser.add_argument('--simulation_ticks', type=int, default=300, help='Number of simulation ticks')
parser.add_argument('-i', '--input_file', type=str, required=True, help='Path to the input file')
parser.add_argument('-nf', '--network_file', type=str, help='Path to the network file')
parser.add_argument('-g', '--gut_view', action='store_true', required=False, help='Enable gut GUI')
parser.add_argument('-n', '--network_view', action='store_true', required=False, help='Enable network GUI')
parser.add_argument('-c', '--chart_view', action='store_true', required=False, help='Enable chart view')
parser.add_argument('-r', '--rank', type=str, default='', required=False, help='Select ranks to show in chart (ex: 1,2,3,4)')
```
- `-g`, `--gut_view`: Enable the gut interface.
- `-n`, `--network_view`: Enable the network interface.
- `-c`, `--chart_view`: Enable chart view with mapped values.
- `-r`, `--rank`: Show results from specified ranks (e.g., `-r 0,2,3,7` to show ranks 0, 2, 3, and 7). If omitted, all ranks are considered.
